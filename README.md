# film-recommendation-system
该笔记本旨在根据包含大约 5000 部电影和电视剧的 TMDB 数据集的内容构建一个推荐引擎。基本上，该引擎的工作原理如下：在用户提供他喜欢的电影的名称后，该引擎应该 能够在数据库中选择用户喜欢的 5 部电影列表。 在实践中，推荐引擎分为三种：

- **基于流行度的**引擎：通常是最容易实现也是最客观的
- **基于内容**引擎：建议基于产品描述
- **协同过滤**引擎：来自不同用户的记录根据用户相似性提供推荐

在当前情况下，由于数据集仅描述电影和电视剧的内容，因此排除了协同过滤，因此我将构建一个同时使用条目内容和受欢迎程度的引擎。

___

本笔记本的结构如下：

**1. 探索数据**

- 1.1 关键词
- 1.2 填充因子：缺失值
- 1.3 每年电影数量
- 1.4 流派

**2. 数据清洗**

- 2.1 关键词的清理
   * 2.1.1 按根分组
   * 2.1.2 同义词组
- 2.2 相关性
- 2.3 缺失值
   * 2.3.1 设置缺失的所有权年份
   * 2.3.2 从标题中提取关键词
   * 2.3.3 回归估算

**3. 推荐引擎**

- 3.1 引擎的基本功能
   * 3.1.1 相似性
   * 3.1.2 流行度
- 3.2 推荐引擎功能定义
- 3.3 提出有意义的建议
- 3.4 推荐示例：测试用例


## 可视化
### 词云和柱状图
![image](https://github.com/Hebo-2015/film-recommendation-system/assets/142399606/5470e689-2bdb-4c29-85fe-f257ab45209c)

### 重要特征之间的相关性
![image](https://github.com/Hebo-2015/film-recommendation-system/assets/142399606/77f2ff7e-7b37-4acf-9eb3-bdf941363f28)

## 推荐引擎---基于内容和受欢迎程度
___
### 3.1 引擎的基本功能
  为了构建推荐引擎，我基本上会分两步进行：
- 1 确定N个与用户提供的条目内容相似的电影
- 2 从这些N电影中选择5部最受欢迎的电影

#### 3.1.1 相似性
因此，在构建引擎时，第一步就是定义一个标准，告诉我们两部电影有多接近。 为此，我从用户选择的电影的描述开始：从中获取导演姓名、演员姓名和一些关键词。 然后，我构建一个矩阵，其中每一行对应于数据库中的一部电影，其中各列对应于先前的数量（导演 + 演员 + 关键字）加上第 1.4 节中描述的 *k* 类型：

|  movie title |director   |actor 1   |actor 2   |actor 3   | keyword 1  | keyword 2   | genre 1 | genre 2 | ... | genre k |
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|Film 1   | $a_{11}$  |  $a_{12}$ |   |   |  ... |   |   |   |   | $a_{1q}$  |
|...   |   |   |   |   | ...  |   |   |   |   |   |
|Film i   |  $a_{i1}$ | $a_{i2}$ |   |   | $a_{ij}$  |   |   |   |   |  $a_{iq}$ |
|...   |   |   |   |   | ...  |   |   |   |   |   |
| Film p   |$a_{p1}$   | $a_{p2}$  |   |   | ...  |   |   |   |   | $a_{pq}$  |

在此矩阵中，$ a_{ij} $ 系数取值 0 或 1，具体取决于列 $j$ 的重要性与电影 $i$ 的内容之间的对应关系。 例如，如果“关键字 1”在电影 $i$ 中，则 $ a_{ij} $ = 1，否则为 0。 一旦定义了这个矩阵，我们就可以根据以下公式确定两部电影之间的距离：

$` d_{m, n} = \sqrt{ \sum_{i = 1}^{N} \left( a_{m,i} - a_{n,i} \right)^2 } `$

在此阶段，我们只需选择与用户选择的条目最接近的 N 部电影即可。

#### 3.1.2 流行度

根据条目之间的相似性，我们得到了 $N$ 电影的列表。 在这个阶段，我从这个列表中选择了 5 部电影，为此，我为每部影片打分。 我决定根据 3 个标准计算分数：
- IMDB 评分
- 条目收到的票数
- 发行年份

前两个标准将直接衡量 IMDB 中各个条目的受欢迎程度。 对于第三个标准，我介绍了发行年份，因为数据库涵盖了从 $XX^{th}$  世纪初至今的电影。 我认为人们最喜欢的电影大多来自同一时代。

然后，我根据以下公式计算分数：



$` \mathrm{score} = IMDB^2 \times \phi_{\sigma_1, c_1} \times  \phi_{\sigma_2, c_2} `$\end{align}

 $\phi$ is 高斯函数:


$` \phi_{\sigma, c}(x) \propto \mathrm{exp}\left(-\frac{(x-c)^2}{2 \, \sigma^2}\right) ·$



